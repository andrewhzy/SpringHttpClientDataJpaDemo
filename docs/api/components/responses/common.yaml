BadRequest:
  description: Bad Request
  content:
    application/json:
      schema:
        $ref: '../schemas/error.yaml#/Error'
      examples:
        invalid_file:
          summary: Invalid Excel file format
          value:
            error:
              code: "INVALID_FILE_FORMAT"
              message: "File must be Excel format (.xlsx or .xls)"
              details: "Uploaded file has MIME type text/plain, expected Excel format"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"
        missing_columns:
          summary: Missing required columns
          value:
            error:
              code: "MISSING_REQUIRED_COLUMNS"
              message: "Excel file missing required columns for chat evaluation"
              details: "Excel must contain columns: question, golden_answer, golden_citations. Found: question, answer"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"
        file_too_large:
          summary: File size exceeded
          value:
            error:
              code: "FILE_TOO_LARGE"
              message: "File size exceeds maximum limit"
              details: "File size: 60MB, maximum allowed: 50MB"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"
        validation_error:
          summary: Request validation failed
          value:
            error:
              code: "VALIDATION_ERROR"
              message: "Invalid request parameters"
              details: "per_page must be between 1 and 100, received: 150"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"
        invalid_task_status:
          summary: Cannot update task in current status
          value:
            error:
              code: "INVALID_STATUS"
              message: "Cannot cancel completed task"
              details: "Task has already finished processing and cannot be cancelled"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"
        cannot_delete_processing:
          summary: Cannot delete task in processing status
          value:
            error:
              code: "INVALID_STATUS"
              message: "Cannot delete task in processing status"
              details: "Cancel the task first, then delete it"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"
        missing_task_type:
          summary: Missing required task_type parameter
          value:
            error:
              code: "MISSING_REQUIRED_PARAMETER"
              message: "task_type parameter is required"
              details: "task_type must be specified for performance and security reasons"
              timestamp: "2024-01-15T14:30:00Z"
              request_id: "req_abc123def456"
              user_id: "system-user"

Unauthorized:
  description: Unauthorized - Invalid or missing JWT token
  content:
    application/json:
      schema:
        $ref: '../schemas/error.yaml#/Error'
      example:
        error:
          code: "UNAUTHORIZED"
          message: "Invalid or expired JWT token"
          details: "Please refresh your authentication token"
          timestamp: "2024-01-15T14:30:00Z"
          request_id: "req_abc123def456"

Forbidden:
  description: Forbidden - Insufficient permissions
  content:
    application/json:
      schema:
        $ref: '../schemas/error.yaml#/Error'
      example:
        error:
          code: "FORBIDDEN"
          message: "Access denied to task"
          details: "You can only access your own tasks"
          timestamp: "2024-01-15T14:30:00Z"
          request_id: "req_abc123def456"
          user_id: "system-user"

NotFound:
  description: Not Found
  content:
    application/json:
      schema:
        $ref: '../schemas/error.yaml#/Error'
      example:
        error:
          code: "NOT_FOUND"
          message: "Task not found"
          details: "Task with ID 123 does not exist or you don't have access to it"
          timestamp: "2024-01-15T14:30:00Z"
          request_id: "req_abc123def456"
          user_id: "system-user"

PayloadTooLarge:
  description: Payload Too Large
  content:
    application/json:
      schema:
        $ref: '../schemas/error.yaml#/Error'
      example:
        error:
          code: "PAYLOAD_TOO_LARGE"
          message: "Request payload exceeds maximum size"
          details: "Maximum file size is 50MB"
          timestamp: "2024-01-15T14:30:00Z"
          request_id: "req_abc123def456"
          user_id: "system-user"

InternalServerError:
  description: Internal Server Error
  content:
    application/json:
      schema:
        $ref: '../schemas/error.yaml#/Error'
      example:
        error:
          code: "INTERNAL_SERVER_ERROR"
          message: "An unexpected error occurred"
          details: "Please try again later or contact support if the problem persists"
          timestamp: "2024-01-15T14:30:00Z"
          request_id: "req_abc123def456"
          user_id: "system-user" 